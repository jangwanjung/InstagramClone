<html lang="kr" xmlns:th="http://www.thymeleaf.org">
<header th:replace="layout/header :: header"></header>
<main id="feed">

    <div th:each="image : ${image}">
        <div class="photo u-default-box">
            <header class="photo__header">
                <img th:src="${'/upload/'+image.user.profileImage}" />
                <span class="photo__username" th:text="${image.user.username}"></span>
            </header>
            <div class="photo_post_image"> <!-- 사진꽉채우기 css -->
                <img th:src="${'/upload/'+image.imageUrl}"/>
            </div>
            <div class="photo__info">
                <div class="photo__actions">
				<span class="photo__action">
					<div th:if="${image.likeState}">
						<i class="fa heart heart-clicked fa-heart" th:onclick="unLike([[${image.id}]])"></i>
                    </div>
					<div th:unless="${image.likeState}">
                        <i class="fa fa-heart-o heart" th:onclick="like([[${image.id}]])"></i>
                    </div>
				</span>
                    <span class="photo__action">
					<i class="fa fa-comment-o"></i>
				</span>
                </div>

                <div class="photo_tag">
                    <div th:each="tag : ${image.tags}">
                        <span th:text="${'#'+tag.name}"></span>
                    </div>
                </div>
                <span class="photo__likes" th:text="${image.likeCount+' likes'}"></span>
                <ul class="photo__comments">
                    <div th:each="comment : ${image.comments}"></div>
                    <li class="photo__comment">
                        <span class="photo__comment-author" th:text="${comment}"></span>
                        <span th:text="${comment}"></span>
                    </li>
                </ul>
                <span class="photo__date" th:text="${image.createDate}"></span>

                <div class="photo__add-comment-container">
                    <textarea placeholder="Add a comment..."></textarea>
                    <i class="fa fa-ellipsis-h"></i>
                </div>

            </div>
        </div>
    </div>
</main>

<script src="/js/like.js"></script>
<footer th:replace="layout/footer :: footer"></footer>